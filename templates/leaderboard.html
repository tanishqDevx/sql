<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Leaderboard</title>
  </head>
  <body>
    <h1>Submissions (recent)</h1>

    <table border="1" cellpadding="6">
      <thead>
        <tr>
          <th>Time (UTC)</th>
          <th>Submitter</th>
          <th>Flag</th>
          <th>Matched User</th>
          <th>Correct</th>
        </tr>
      </thead>
      <tbody>
        {% for r in rows %}
        <tr>
          <td>{{ r["ts"] }}</td>
          <td>{{ r["submitter"] }}</td>
          <td><code>{{ r["submitted_flag"] }}</code></td>
          <td>{{ r["matched_user"] or "-" }}</td>
          <td>{{ "YES" if r["correct"] else "NO" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <h2>Scoreboard</h2>
    <table border="1" cellpadding="6">
      <thead>
        <tr>
          <th>Submitter</th>
          <th>Points (correct)</th>
          <th>Attempts</th>
        </tr>
      </thead>
      <tbody>
        {% for s in scores %}
        <tr>
          <td>{{ s["submitter"] }}</td>
          <td>{{ s["points"] }}</td>
          <td>{{ s["attempts"] }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <p>
      <a href="{{ url_for('index') }}">Back to login</a> |
      <a href="{{ url_for('submit_flag') }}">Submit flag</a>
    </p>
  </body>
</html>
